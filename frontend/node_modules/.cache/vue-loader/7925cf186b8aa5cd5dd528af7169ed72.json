{"remainingRequest":"/home/nathana/DocumentoGamer/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nathana/DocumentoGamer/frontend/src/components/Carteirinha.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nathana/DocumentoGamer/frontend/src/components/Carteirinha.vue","mtime":1593161975618},{"path":"/home/nathana/DocumentoGamer/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nathana/DocumentoGamer/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nathana/DocumentoGamer/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nathana/DocumentoGamer/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IHJlcXVpcmVkfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogImFwcCIsCiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICAgICAgICAgICAgcHNuOiAiIiwKICAgICAgICAgICAgICAgICAgICBuaW50ZW5kbzogIiIsCiAgICAgICAgICAgICAgICAgICAgeGJveDogIiIsCiAgICAgICAgICAgICAgICAgICAgb3RoZXJkYXRhczogIiIsCiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiAiIiwKICAgICAgICAgICAgICAgICAgICBjYXJ0ZWlyaW5oYTogIiIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzdWJtaXR0ZWQ6IGZhbHNlCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICB2YWxpZGF0aW9uczogewogICAgICAgICAgICB1c2VyOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogeyByZXF1aXJlZCB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgdXBsb2FkRmlsZShldmVudCl7CiAgICAgICAgICAgICAgIHRoaXMudXNlci5hdmF0YXIgPSBldmVudC50YXJnZXQuZmlsZXNbMF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGFuZGxlU3VibWl0KCkgewogICAgICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIC8vIHN0b3AgaGVyZSBpZiBmb3JtIGlzIGludmFsaWQKICAgICAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CiAgICAgICAgICAgICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlci5hdmF0YXIpCiAgICAgICAgICAgICAgICBsZXQgcGF5bG9hZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgcGF5bG9hZC5hcHBlbmQoJ3VzZXJuYW1lJywgdGhpcy51c2VyLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIHBheWxvYWQuYXBwZW5kKCdwc24nLCB0aGlzLnVzZXIucHNuKTsKICAgICAgICAgICAgICAgIHBheWxvYWQuYXBwZW5kKCduaW50ZW5kbycsIHRoaXMudXNlci5uaW50ZW5kbyk7CiAgICAgICAgICAgICAgICBwYXlsb2FkLmFwcGVuZCgneGJveCcsIHRoaXMudXNlci54Ym94KTsKICAgICAgICAgICAgICAgIHBheWxvYWQuYXBwZW5kKCdzdGVhbScsIHRoaXMudXNlci5zdGVhbSk7CiAgICAgICAgICAgICAgICBwYXlsb2FkLmFwcGVuZCgnb3RoZXJkYXRhcycsIHRoaXMudXNlci5vdGhlcmRhdGFzKTsKICAgICAgICAgICAgICAgIHBheWxvYWQuYXBwZW5kKCdhdmF0YXInLCB0aGlzLnVzZXIuYXZhdGFyKTsKCiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9jYXJ0ZWlyaW5oYSI7CiAgICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgICAucG9zdChwYXRoLHBheWxvYWQsewogICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigobXNnKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmRhdGEuc3RhdHVzID09J3N1Y2Nlc3MnKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtc2dfc3VjZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1zZ19zdWNlc3MiKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWx0ZXJhIGEgZGl2IHF1ZSB2YWkgYXBhcmVjZXIKICAgICAgICAgICAgICAgICAgICAgICAgbXNnX3N1Y2Vzcy5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkaWNpb25hIG8gY2FtaW5obyBhIGNhcnRlaXJpbmhhCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlci5jYXJ0ZWlyaW5oYSA9IG1zZy5kYXRhLnBhdGgKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIERvd25sb2FkKCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVudHJvdSIpCiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkID0gdGhpcy51c2VyLmNhcnRlaXJpbmhhCgogICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9ICJodHRwOi8vbG9jYWxob3N0OjUwMDAvdXBsb2Fkcy8iKyBwYXlsb2FkOwogICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgLnBvc3QocGF0aCxwYXlsb2FkLHsKICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgogICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3BvbnNlLmRhdGFdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwoKICAgICAgICAgICAgICAgICAgICAgICBmaWxlTGluay5ocmVmID0gZmlsZVVSTDsKICAgICAgICAgICAgICAgICAgICAgICBmaWxlTGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ2ZpbGUucG5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmaWxlTGluayk7CgogICAgICAgICAgICAgICAgICAgICAgIGZpbGVMaW5rLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICB9OwoKCgo="},{"version":3,"sources":["Carteirinha.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"Carteirinha.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n        <div class=\"card card_alter\">\n          <div class=\"card-body\">\n            <h1 class=\"card-title card_title_mod\"><img src=\"/logo.png\"> </h1>\n          </div>\n        </div>\n    </div>\n  </div>\n\n      <div class=\"card card_border\">\n        <div class=\"card-header card_header_mod\">\n            <h3 class=\"card-title card_title_todo_mod\">Crie o Seu Documento Gamer</h3>\n        </div>\n        <div class=\"card-body\">\n\n\n            <form  id=\"createCarteirinha\"  @submit.prevent=\"handleSubmit\">\n             <div class=\"row\">\n               <div id=\"msg_sucess\" class=\"col-sm-12\" style=\"margin-bottom:20px;display:none;\">\n                    <a class=\"button\" v-on:click=\"Download()\">Download do Documento</a>\n               </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"username\">Nickname: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <input id=\"username\" v-model=\"user.username\" type=\"text\" name=\"username\" class=\"form-control\" placeholder=\"Como Ã© conhecido nos jogos...\" aria-describedby=\"basic-addon1\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"psn\">PSN ID: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <input id=\"psn\" v-model=\"user.psn\"  type=\"text\" name=\"psn\" class=\"form-control\" placeholder=\"Sua PSN..\" aria-describedby=\"basic-addon1\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"nintendo\">Friend CODE: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <input id=\"nintendo\" v-model=\"user.nintendo\"  type=\"text\" class=\"form-control\" name=\"nintendo\" placeholder=\"Seu Friend Code...\" aria-describedby=\"basic-addon1\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"xbox\">TAG Gamer: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <input id=\"xbox\" v-model=\"user.xbox\" type=\"text\" name=\"xbox\" class=\"form-control\" placeholder=\"Seu TAG Gamer...\" aria-label=\"Comprar\" aria-describedby=\"basic-addon1\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"steam\">Steam: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <input id=\"steam\" v-model=\"user.steam\" type=\"text\" name=\"steam\" class=\"form-control\" placeholder=\"Sua Steam...\" aria-describedby=\"basic-addon1\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"otherdatas\">Dados Adicionais: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                      <textarea id=\"otherdatas\" v-model=\"user.otherdatas\" rows=\"4\" name=\"otherdatas\" placeholder=\"Outros dados que considera importante...\"\n                      class=\"form-control\"> </textarea>\n                  </div>\n                   <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                      <label for=\"file-photo\">Foto: </label>\n                  </div>\n                  <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                     <input type=\"file\" accept=\"image/*\"  name=\"avatar\" v-on:change=\"uploadFile\" class=\"form-control\"  id=\"avatar\">\n                  </div>\n                   <div class=\"col-sm-8\" style=\"margin-bottom:20px;\">\n                  </div>\n                  <div class=\"col-sm-4\" style=\"margin-bottom:20px;\">\n                       <button class=\"form-control\" v-on:click=\"handleSubmit()\">Enviar Dados</button>\n                  </div>\n             </div>\n           </form>\n        </div>\n      </div>\n    </div>\n\n\n </template>\n\n<script>\nimport axios from \"axios\";\nimport { required} from \"vuelidate/lib/validators\";\nexport default {\n        name: \"app\",\n        data() {\n            return {\n                user: {\n                    username: \"\",\n                    psn: \"\",\n                    nintendo: \"\",\n                    xbox: \"\",\n                    otherdatas: \"\",\n                    avatar: \"\",\n                    carteirinha: \"\"\n                },\n                submitted: false\n            };\n        },\n        validations: {\n            user: {\n                username: { required }\n            }\n        },\n        methods: {\n            uploadFile(event){\n               this.user.avatar = event.target.files[0]\n            },\n            handleSubmit() {\n                this.submitted = true;\n\n                // stop here if form is invalid\n                this.$v.$touch();\n                if (this.$v.$invalid) {\n                    return;\n                }\n                console.log(this.user.avatar)\n                let payload = new FormData();\n                payload.append('username', this.user.username);\n                payload.append('psn', this.user.psn);\n                payload.append('nintendo', this.user.nintendo);\n                payload.append('xbox', this.user.xbox);\n                payload.append('steam', this.user.steam);\n                payload.append('otherdatas', this.user.otherdatas);\n                payload.append('avatar', this.user.avatar);\n\n                const path = \"http://localhost:5000/carteirinha\";\n                axios\n                  .post(path,payload,{\n                   headers: {\n                      'Content-Type': 'multipart/form-data'\n                    }\n\n                    }).then((msg) => {\n                      if (msg.data.status =='success'){\n\n                        var msg_sucess = document.getElementById(\"msg_sucess\");\n                        // Altera a div que vai aparecer\n                        msg_sucess.style.display = \"\";\n                        // Adiciona o caminho a carteirinha\n                        this.user.carteirinha = msg.data.path\n                      }\n                    })\n                      .catch(error => {\n                      console.log(error);\n                    });\n\n            },\n            Download() {\n                console.log(\"entrou\")\n                this.submitted = false;\n\n                var payload = this.user.carteirinha\n\n                const path = \"http://localhost:5000/uploads/\"+ payload;\n                axios\n                  .post(path,payload,{\n                   headers: {\n                    }\n\n                    }).then((response) => {\n\n                       var fileURL = window.URL.createObjectURL(new Blob([response.data]));\n                       var fileLink = document.createElement('a');\n\n                       fileLink.href = fileURL;\n                       fileLink.setAttribute('download', 'file.png');\n                       document.body.appendChild(fileLink);\n\n                       fileLink.click();\n                    })\n                      .catch(error => {\n                      console.log(error);\n                    });\n\n            }\n        },\n\n    };\n\n\n\n</script>\n"]}]}